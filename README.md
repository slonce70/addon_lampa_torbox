# TorBox Lampa Plugin (Stable Refactored)

–ù–∞–¥–µ–∂–Ω—ã–π –ø–ª–∞–≥–∏–Ω –Ω–∞ —á–∏—Å—Ç–æ–º JavaScript, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –æ–±–ª–∞—á–Ω—ã–π —Ç–æ—Ä—Ä–µ–Ω—Ç-–∫–ª–∏–µ–Ω—Ç [TorBox.app](https://torbox.app) —Å –º–µ–¥–∏–∞—Ü–µ–Ω—Ç—Ä–æ–º [Lampa](https://lampa.mx). –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–æ—Ä—Ä–µ–Ω—Ç—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç TorBox, –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –∏—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É ‚Äî –≤—Å—ë –≤ –ø—Ä–∏–≤—ã—á–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Lampa.

> **–í–µ—Ä—Å–∏—è 51.1.2 (–°—Ç–∞–±–∏–ª—å–Ω–∞—è)**
>
> –†–µ–ª–∏–∑ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç–∏ –ø–ª–∞–≥–∏–Ω–∞ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
>
> - **–ì–æ—Ä—è—á–∏–π —Ñ–∏–∫—Å:** —É—Å—Ç—Ä–∞–Ω–∏–ª–∏ —Å–±–æ–π —Å—Ç–∞—Ä—Ç–∞ –ø–æ—Å–ª–µ –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è, –¥–æ–±–∞–≤–∏–ª–∏ –∑–∞—â–∏—Ç—É —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫ –∏ –∞–≤—Ç–æ-–æ—Ç–∫–∞—Ç–æ–º.
> - **–ù–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑ —Å—é—Ä–ø—Ä–∏–∑–æ–≤:** —Ñ–æ–∫—É—Å —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –ø–æ —è–≤–Ω–æ–π –º–∞—Ç—Ä–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤, —É—á–∏—Ç—ã–≤–∞—è –ø–∞–Ω–µ–ª—å ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä¬ª –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫–µ—à–∞. –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∏–∑ –ø–æ–¥–º–µ–Ω—é –ø–æ–∑–∏—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –±–µ–∑ —Ä—É—á–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫.
> - **–£—Å—Ç–æ–π—á–∏–≤—ã–π —Å—Ç–∞—Ä—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:** UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ –∏–ª–∏ TorBox –≤–µ—Ä–Ω—É–ª 422. –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞.
> - **–õ–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ¬´—Å—ã—Ä—ã–µ¬ª –¥–∞–Ω–Ω—ã–µ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–µ—à –∏ `state`. –°–ø–∏—Å–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π –æ–±—Ä–µ–∑–∞—é—Ç—Å—è –¥–æ 250 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Å–Ω–∞–ø—à–æ—Ç—ã —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∏ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è –ø–æ —Ä–∞–∑–º–µ—Ä—É.
> - **–†–∞—Å—à–∏—Ä—è–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫ —Ç—Ä–µ–∫–∏–Ω–≥–∞, –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –æ–ø—Ä–æ—Å–∞ –∏ —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π. –í–≤–æ–¥ –ø—Ä–æ–∫—Å–∏ –∏ API-–∫–ª—é—á–∞ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è, –∏—Å–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ —Å–∏–º–≤–æ–ª—ã.
> - **–£–º–Ω–µ–µ –ø–æ–∏—Å–∫:** –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É—Ç–æ—á–Ω—è—é—â–∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π —É—á–∏—Ç—ã–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, —Å–µ–∑–æ–Ω—ã –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞. –í debug-—Ä–µ–∂–∏–º–µ –≤—ã–≤–æ–¥—è—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ —Å–ø–∏—Å–∫–∞.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üé¨ –£–º–Ω—ã–π –ü–æ–∏—Å–∫ –ö–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫:** –ü–æ–∏—Å–∫ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø—É–±–ª–∏—á–Ω—ã–º —Ç—Ä–µ–∫–µ—Ä–∞–º (Viewbox, Jacred) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º.
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã:** –£—Ç–æ—á–Ω—è–π—Ç–µ –≤—ã–¥–∞—á—É –≥–æ—Ç–æ–≤—ã–º–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è–º–∏ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –≥–æ–¥—ã, —Å–µ–∑–æ–Ω—ã/—ç–ø–∏–∑–æ–¥—ã, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã). –í —Å–ø–∏—Å–∫–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –º–µ—Ç–∫–∏, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫—ç—à–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤ —Å –∏–∫–æ–Ω–∫–æ–π `‚ö°`.
- **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ (4K/FHD/HD/SD) –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–æ—Ä—Ä–µ–Ω—Ç–∞.

### üéØ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ –∫–∞—á–µ—Å—Ç–≤—É, —Ç–∏–ø—É –≤–∏–¥–µ–æ (HDR/DV), —è–∑—ã–∫—É –∞—É–¥–∏–æ, –∫–æ–¥–µ–∫–∞–º –∏ —Ç—Ä–µ–∫–µ—Ä–∞–º.
- **–£–º–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫—ç—à–∞:** –í –æ–¥–∏–Ω –∫–ª–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (`‚ö°`) –∏ –≤—Å–µ—Ö (`‚òÅÔ∏è`) —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤.
- **–ì–∏–±–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:** –°–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–æ —Å–∏–¥–∞–º, —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–∞ –∏–ª–∏ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—ã–±–æ—Ä–∞.
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã:** –û–ø—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –ª–µ—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤.

### üéÆ –£–ª—É—á—à–µ–Ω–Ω—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –û–ø—ã—Ç
- **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä:** –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∑–∞–ø—É—â–µ–Ω–Ω–æ–º—É —Ç–æ—Ä—Ä–µ–Ω—Ç—É. –°–Ω–∞–ø—à–æ—Ç—ã –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è, –µ—Å–ª–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –Ω–µ —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª–æ.
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å "–û–±—Ä–∞–±–æ—Ç–∫–∞", –∫–æ–≥–¥–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç —Å–∫–∞—á–∞–Ω, –Ω–æ –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é.
- **–ú–µ–Ω–µ–¥–∂–µ—Ä —ç–ø–∏–∑–æ–¥–æ–≤:** –ü—Ä–æ–≥—Ä–µ—Å—Å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞, —Å–ø–∏—Å–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∏ –Ω–µ —Ä–∞–∑—Ä–∞—Å—Ç–∞—é—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ.
- **–ü–∞–º—è—Ç—å —Ñ–æ–∫—É—Å–∞:** –Ø–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä¬ª –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∫–µ—à–∞, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—É–ª—å—Ç–∞:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –ø—É–ª—å—Ç–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞ —Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Ñ–æ–∫—É—Å–∞.

### üõ°Ô∏è –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- **–ù–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:** –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ `localStorage`.
- **–ò–∑–æ–ª—è—Ü–∏—è –æ—à–∏–±–æ–∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:** –û—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ —Å–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞—Ä—É—à–∏—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** LRU-–∫—ç—à —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–æ–π –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ç—å.
- **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–µ—Ç–∏:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤, –ª–æ–≥–∏–∫–∞ –æ—Ç–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ—è—Ö.

### ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ç—Ä–µ–∫–∏–Ω–≥–∞:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç–∞ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –æ–ø—Ä–æ—Å–∞–º–∏ (–¥–∏–∞–ø–∞–∑–æ–Ω—ã 3‚Äì120 –∏ 3000‚Äì60000 –º—Å). –ó–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è.
- **–ì–∏–±–∫–∏–π —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π:** –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —ç–ø–∏–∑–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–∏–¥–µ–æ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π, –ø—Ä–æ–±–µ–ª—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä –Ω–µ –∏–º–µ—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è.
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ debug-—Ä–µ–∂–∏–º–µ:** –í –∫–æ–Ω—Å–æ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–ø–∏—Å–∫–∞, –æ–±—ä–µ–º —Å–Ω–∞–ø—à–æ—Ç–∞ –∏ –Ω–∞–±–æ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1.  –û—Ç–∫—Ä–æ–π—Ç–µ Lampa –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `–ù–∞—Å—Ç—Ä–æ–π–∫–∏` ‚Üí `–ü–ª–∞–≥–∏–Ω—ã`.
2.  –ù–∞–∂–º–∏—Ç–µ `–î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞–≥–∏–Ω`.
3.  –í–≤–µ–¥–∏—Ç–µ URL –ø–ª–∞–≥–∏–Ω–∞:
    ```
    [https://slonce70.github.io/addon_lampa_torbox/torbox-lampa-plugin.js](https://slonce70.github.io/addon_lampa_torbox/torbox-lampa-plugin.js)
    ```
4.  –ù–∞–∂–º–∏—Ç–µ `Enter` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
5.  –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ **TorBox**.

### –ù–∞—á–∞–ª—å–Ω–∞—è –ù–∞—Å—Ç—Ä–æ–π–∫–∞
1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `–ù–∞—Å—Ç—Ä–æ–π–∫–∏` ‚Üí `TorBox`.
2.  –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
    - **API-Key**: –í–∞—à –∫–ª—é—á API –æ—Ç TorBox.app (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤ [–ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è TorBox](https://torbox.app/settings)).
    - **URL CORS-–ø—Ä–æ–∫—Å–∏**: URL-–∞–¥—Ä–µ—Å CORS-–ø—Ä–æ–∫—Å–∏.
    - **Debug-—Ä–µ–∂–∏–º**: –í–∫–ª—é—á–∏—Ç–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
3.  –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - **–ü–æ–≤—Ç–æ—Ä—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è** (3‚Äì120): –°–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ —Å–¥–µ–ª–∞—Ç—å, –ø—Ä–µ–∂–¥–µ —á–µ–º —Å—á–∏—Ç–∞—Ç—å —Ç–æ—Ä—Ä–µ–Ω—Ç "–Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–º" (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 24).
    - **–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è (–º—Å)** (3000‚Äì60000): –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞, –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –Ω–∞–≥—Ä—É–∑–∫—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10000).
    - **–í–∏–¥–µ–æ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**: –°–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ —Å–µ—Ä–∏–∏ (`mkv,mp4,avi,ts,m4v,webm` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ù–µ–ø–æ–ª–∞–¥–æ–∫

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

#### "CORS-proxy –Ω–µ –∑–∞–¥–∞–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö"
-   **–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ —É–∫–∞–∑–∞–Ω URL CORS-–ø—Ä–æ–∫—Å–∏.
-   **–†–µ—à–µ–Ω–∏–µ**: –£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–∞.

#### "401 ‚Äì –Ω–µ–≤–µ—Ä–Ω—ã–π API-–∫–ª—é—á"
-   **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–π API-–∫–ª—é—á TorBox.
-   **–†–µ—à–µ–Ω–∏–µ**: –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è TorBox –∏ –≤–≤–µ–¥–∏—Ç–µ –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

#### "–í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"
-   **–ü—Ä–∏—á–∏–Ω–∞**: –ü—É–±–ª–∏—á–Ω—ã–µ —Ç—Ä–µ–∫–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≤–∞—à–∏–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º.
-   **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

### –†–µ–∂–∏–º –û—Ç–ª–∞–¥–∫–∏
–í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
1.  –ù–∞–∂–º–∏—Ç–µ `F12` –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.
2.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É `Console`.
3.  –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[TorBox]`.

–í debug-–ª–æ–≥–∞—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤—ã–≤–æ–¥—è—Ç—Å—è:
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ç–µ–∫—É—â–µ–º —Å–ø–∏—Å–∫–µ –∏ –µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ö;
- —Ä–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ —Å–Ω–∞–ø—à–æ—Ç–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ¬´—Å—ã—Ä—ã—Ö¬ª –∑–∞–ø–∏—Å–µ–π –≤ –∫–µ—à–µ;
- –Ω–∞–±–æ—Ä —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞.

## üßæ Changelog

### 51.1.2
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ `try/catch` –≤–æ–∫—Ä—É–≥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –∑–∞–ø–∏—Å—å —Å—Ç–µ–∫–∞ –æ—à–∏–±–∫–∏ –≤ `localStorage` –∏ –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ Lampa, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏.

### 51.1.1
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–≥—Ä–µ—Å—Å, –º–µ—à–∞–≤—à–∏–π –∑–∞–≥—Ä—É–∑–∫–µ –ø–ª–∞–≥–∏–Ω–∞ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Ñ–æ–∫—É—Å–∞ –≤—ã–∑—ã–≤–∞–ª–∞—Å—å –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π).

### 51.1.0
- –í–≤–µ–¥–µ–Ω–∞ —Ç–∞–±–ª–∏—á–Ω–∞—è —Å—Ö–µ–º–∞ —Ñ–æ–∫—É—Å–∞ —Å —É—á—ë—Ç–æ–º –ø–∞–Ω–µ–ª–∏ ¬´–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä¬ª –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è –∫–µ—à–∞.
- –î–æ–±–∞–≤–ª–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –æ—Ç–∫–∞—Ç UI –ø—Ä–∏ –æ—Ç–º–µ–Ω—ë–Ω–Ω–æ–º/–Ω–µ—Å–æ—Å—Ç–∞—é—â–µ–º—Å—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏, –æ—Ç–º–µ—Ç–∫–∞ —Å–µ—Ä–∏–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞.
- –ò—Å–∫–ª—é—á–µ–Ω—ã ¬´—Å—ã—Ä—ã–µ¬ª –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, —Å–ø–∏—Å–∫–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã 250 –∑–∞–ø–∏—Å—è–º–∏, —Å–Ω–∞–ø—à–æ—Ç—ã —É—Ä–µ–∑–∞—é—Ç—Å—è –ø–æ —Ä–∞–∑–º–µ—Ä—É.
- –ü–æ—è–≤–∏–ª–∏—Å—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤ —Ç—Ä–µ–∫–∏–Ω–≥–∞, –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –æ–ø—Ä–æ—Å–∞ –∏ —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π; –¥–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É—Ç–æ—á–Ω–µ–Ω–∏–π –ø–æ–∏—Å–∫–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –≥–æ–¥—ã, —Å–µ–∑–æ–Ω—ã, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ ID, –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Å–Ω–∞–±–∂–µ–Ω—ã –º–µ—Ç–∫–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
